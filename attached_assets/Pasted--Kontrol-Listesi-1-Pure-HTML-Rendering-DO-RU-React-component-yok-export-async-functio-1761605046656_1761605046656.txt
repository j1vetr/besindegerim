âœ… Kontrol Listesi
1ï¸âƒ£ Pure HTML Rendering âœ…
// âœ… DOÄRU - React component yok
export async function renderHomePage(): Promise<RenderResult> {
  const html = `<div>...</div>`;
  return { html, statusCode: 200 };
}
// âŒ YANLIÅ olurdu
const html = renderComponentToHTML(<HomePage />); // Bu production'da Ã§alÄ±ÅŸmaz
2ï¸âƒ£ REPLACE Strategy Meta Injection âœ…
// âœ… DOÄRU - Mevcut meta tag'leri replace et
result = result.replace(/<title>.*?<\/title>/, `<title>${meta.title}</title>`);
// âŒ YANLIÅ olurdu
result += `<title>${meta.title}</title>`; // Duplicate olur
client/index.html placeholder'lar da Ã¶nemli:

<!-- Placeholder'lar (SSR replace edecek) -->
<title>Loading...</title>
<meta name="description" content="Loading..." />
<meta property="og:title" content="Loading..." />
3ï¸âƒ£ Middleware SÄ±ralamasÄ± âœ…
Development:

// âœ… DOÄRU sÄ±ralama
if (app.get("env") === "development") {
  app.use("*", async (req, res, next) => {
    if (isCrawler) return await renderHTMLWithMeta(...);
    next(); // â† Vite'a geÃ§
  });
  await setupVite(app, server); // â† Vite en sonda
}
Production:

// âœ… DOÄRU sÄ±ralama
else {
  app.use(express.static(distPath)); // â† Static files Ã¶nce
  app.use("*", async (req, res) => {  // â† SSR catch-all sonra
    await renderHTMLWithMeta(...);
  });
}
4ï¸âƒ£ Bot Detection âœ…
// âœ… DOÄRU - Dev'de bot detection
const crawlers = ['Googlebot', 'Bingbot', 'Slurp', ...];
const isCrawler = crawlers.some(crawler => 
  userAgent.toLowerCase().includes(crawler.toLowerCase())
);
if (isCrawler) {
  return await renderHTMLWithMeta(...); // â† SSR
}
next(); // â† Normal kullanÄ±cÄ± â†’ Vite SPA
5ï¸âƒ£ No Duplicate Meta Tags âœ…
// âœ… REPLACE strategy sayesinde duplicate yok
// Eski: <title>Loading...</title>
// Yeni: <title>Product Name | Site</title>
// SonuÃ§: 1 tane title tag (duplicate yok)
ğŸ¯ Kritik Test NoktalarÄ± (Agent'a SÃ¶yle)
Agent'Ä±n yapmasÄ± gereken testler:

1. Production'da Ã‡alÄ±ÅŸÄ±yor mu?
# Sunucuda
NODE_ENV=production npm run build
NODE_ENV=production npm start
# Test et
curl https://site.com/product/test
Beklenen: HTML dÃ¶nmeli (500 error yok)

2. Meta Tag'ler DoÄŸru mu?
# Bot olarak test et
curl -A "Googlebot" https://site.com/product/test | grep "og:title"
Beklenen:

<meta property="og:title" content="Product Name | Site" />
OLMAMASI GEREKEN (duplicate):

<meta property="og:title" content="Loading..." />
<meta property="og:title" content="Product Name | Site" />
3. Client-Side Routing BozulmadÄ± mÄ±?
# Normal kullanÄ±cÄ± olarak
curl https://site.com/product/test
Beklenen:

Dev'de: Vite SPA (React routing Ã§alÄ±ÅŸÄ±yor)
Prod'da: SSR HTML (ama React hydrate edebilir)
4. Static Files Serve Ediliyor mu?
curl https://site.com/assets/index.js
Beklenen: JS dosyasÄ± dÃ¶nmeli (SSR'a gitmemeli)